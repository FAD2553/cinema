<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Films pour l'Évolution Mentale</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
    <style>
        /* Styles généraux */
        :root{
            --color-black: #000000;
            --color-dark-gray: #1a1a1a;
            --color-yellow: #FFFF00;
            --color-light-gray: #333333;
        }

        html,body{
            height:100%;
        }

        body {
            background-color: var(--color-black);
            color: var(--color-yellow);
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
        }

        /* Landing Page (Page d'accueil) */
        .hero-section {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            background-size: cover;
            background-position: center;
            transition: background-image 1s ease-in-out;
            border-bottom: 5px solid var(--color-yellow);
            padding: 20px;
            position: relative;
        }

        .hero-overlay {
            background-color: rgba(0, 0, 0, 0.55);
            height: 100%;
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1;
            padding: 40px 20px;
            box-sizing: border-box;
        }

        .hero-section h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 4rem;
            text-transform: uppercase;
            letter-spacing: 5px;
            text-shadow: 0 0 10px var(--color-yellow);
            margin: 0 0 20px 0;
        }

        .hero-section p {
            font-size: 1.2rem;
            max-width: 800px;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .hero-button {
            display: inline-block;
            padding: 15px 30px;
            background-color: var(--color-yellow);
            color: var(--color-black);
            text-decoration: none;
            text-transform: uppercase;
            font-weight: bold;
            border: 2px solid var(--color-yellow);
            transition: all 0.25s ease;
            border-radius: 6px;
        }

        .hero-button:hover,
        .hero-button:focus {
            background-color: transparent;
            color: var(--color-yellow);
        }

        /* Section des films */
        .films-section {
            padding: 50px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: linear-gradient(180deg, rgba(0,0,0,0.95), rgba(0,0,0,1));
        }

        .films-section h2 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            border-bottom: 3px solid var(--color-yellow);
            padding-bottom: 10px;
            margin-bottom: 40px;
            text-shadow: 0 0 5px var(--color-yellow);
        }

        .films-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 40px;
            justify-content: center;
            width: 100%;
            max-width: 1200px;
            box-sizing: border-box;
        }

        /* Conteneur de chaque film */
        .film-container {
            background-color: var(--color-dark-gray);
            border: 2px solid var(--color-yellow);
            padding: 20px;
            text-align: center;
            box-shadow: 0 0 20px rgba(255, 255, 0, 0.12);
            transition: transform 0.25s ease, box-shadow 0.25s ease;
            position: relative;
            border-radius: 8px;
            overflow: hidden;
        }

        .film-container:hover {
            transform: translateY(-6px);
            box-shadow: 0 8px 30px rgba(255,255,0,0.12);
        }

        .film-container h3 {
            color: var(--color-yellow);
            font-family: 'Orbitron', sans-serif;
            font-size: 1.6rem;
            margin: 0 0 12px 0;
        }

        .film-container .description {
            font-size: 1rem;
            line-height: 1.6;
            text-align: left;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            margin: 12px 0 0 0;
        }

        /* État "expanded" : on enlève le clamp pour tout montrer */
        .film-container .description.expanded {
            display: block;
            -webkit-line-clamp: unset;
            -webkit-box-orient: initial;
            overflow: visible;
        }

        .read-more-btn {
            background: none;
            border: none;
            color: var(--color-yellow);
            font-weight: bold;
            cursor: pointer;
            text-decoration: underline;
            margin-top: 10px;
            padding: 0;
            font-size: 0.95rem;
        }

        /* Vidéo responsive */
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* Ratio 16:9 */
            height: 0;
            overflow: hidden;
            margin-bottom: 20px;
            border-radius: 6px;
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .pagination a {
            color: var(--color-yellow);
            background-color: var(--color-dark-gray);
            border: 2px solid var(--color-yellow);
            padding: 10px 15px;
            margin: 5px;
            text-decoration: none;
            transition: background-color 0.3s, color 0.3s;
            border-radius: 6px;
        }

        .pagination a.active, .pagination a:hover {
            background-color: var(--color-yellow);
            color: var(--color-black);
        }

        /* Citation */
        .quote-section {
            background-color: var(--color-dark-gray);
            border: 2px solid var(--color-yellow);
            padding: 40px;
            margin: 40px auto;
            max-width: 900px;
            text-align: center;
            border-radius: 8px;
        }

        .quote-section blockquote {
            font-style: italic;
            font-size: 1.5rem;
            margin: 0;
            padding: 0 20px;
            position: relative;
            line-height: 1.4;
        }

        .quote-section blockquote:before {
            content: '“';
            font-size: 4rem;
            position: absolute;
            top: -10px;
            left: 10px;
            color: var(--color-yellow);
            opacity: 0.45;
        }

        .quote-section blockquote:after {
            content: '”';
            font-size: 4rem;
            position: absolute;
            bottom: -18px;
            right: 10px;
            color: var(--color-yellow);
            opacity: 0.45;
        }

        /* Pied de page */
        footer {
            background-color: var(--color-dark-gray);
            border-top: 2px solid var(--color-yellow);
            text-align: center;
            padding: 20px;
            font-size: 0.95rem;
            line-height: 1.5;
            color: var(--color-yellow);
        }

        footer .disclaimer {
            color: #aaaaaa;
            margin-top: 10px;
        }

        /* Bouton Scroll to Top */
        #scrollTopBtn {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--color-yellow);
            color: var(--color-black);
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 1.2rem;
            box-shadow: 0 0 10px rgba(255, 255, 0, 0.5);
            transition: opacity 0.3s ease;
        }

        #scrollTopBtn:hover {
            opacity: 0.8;
        }

        /* Media Queries pour le responsive */
        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 2.2rem;
                letter-spacing: 3px;
            }

            .hero-section p {
                font-size: 1rem;
            }

            .films-section h2 {
                font-size: 2rem;
            }

            .film-container h3 {
                font-size: 1.25rem;
            }

            .quote-section blockquote {
                font-size: 1.1rem;
            }

            .quote-section blockquote:before,
            .quote-section blockquote:after {
                font-size: 2.8rem;
            }

            .films-grid {
                grid-template-columns: 1fr;
            }

            .pagination a {
                padding: 8px 12px;
                margin: 3px;
            }
        }
    </style>
</head>
<body>

    <main class="hero-section" aria-label="Section d'accueil">
        <div class="hero-overlay">
            <h1>Transformez votre vision du monde</h1>
            <p>Une collection de films soigneusement choisis pour inspirer la réflexion, encourager la croissance personnelle et changer votre perspective sur la vie.</p>
            <a href="#films" class="hero-button">Découvrir les films</a>
        </div>
    </main>

    <section id="films" class="films-section" aria-labelledby="films-title">
        <h2 id="films-title">La Sélection</h2>
        <div class="films-grid" id="films-grid" role="list">
            <!-- Films insérés par JS -->
        </div>
        <nav class="pagination" id="pagination" aria-label="Pagination des films">
            <!-- Pagination insérée par JS -->
        </nav>
    </section>

    <section class="quote-section" aria-hidden="false">
        <blockquote id="quote-text" aria-live="polite"></blockquote>
    </section>

    <footer>
        <p>Je suis Ousmane KONFE et cette plateforme est juste une initiative personnelle, créée dans le but de partager des œuvres cinématographiques qui ont le potentiel d'inspirer et de provoquer une réflexion profonde.</p>
        <p class="disclaimer">Je ne détiens aucun droit sur les films proposés, qui sont intégrés à partir de services externes. Cette initiative est à but non lucratif et vise uniquement le partage de connaissances et d'idées.</p>
    </footer>

    <button id="scrollTopBtn" title="Retourner en haut de la page" aria-label="Retourner en haut">▲</button>
    <!-- Ajouter juste avant </body> -->
<script src="block-ads.js" data-auto-init></script>

    <script>
        const filmsData = [
            {
                title: "Mary",
                iframeSrc: "https://uqload.cx/embed-pbhm9sz555jr.html",
                description: "Un homme se bat pour obtenir la garde de sa nièce, qui témoigne d'un don hors du commun pour les mathématiques."
            },
            {
                title: "Un homme d'exception",
                iframeSrc: "https://uqload.cx/embed-voikz0zved37.html",
                description: "L'histoire vraie de John Nash, un mathématicien brillant mais asocial, qui lutte contre la schizophrénie paranoïde. Avec le soutien de sa femme Alicia, il parvient à surmonter ses démons intérieurs et à faire des contributions majeures à la théorie des jeux, lui valant le prix Nobel d'économie en 1994."
            },
            {
                title: "Will Hunting",
                iframeSrc: "https://uqload.cx/embed-113ofs3hmnn3.html",
                description: "Will Hunting est un authentique génie mais également un rebelle aux élans imprévisibles. Il est né dans le quartier populaire de South Boston et a arrêté très tôt ses études, refusant le brillant avenir que pouvait lui procurer son intelligence. Il vit désormais entouré d'une bande de copains et passe son temps dans les bars à chercher la bagarre et à commettre quelques petits délits qui risquent bien de l'envoyer en prison. C'est alors que ses dons prodigieux en mathématiques attirent l'attention du professeur Lambeau, du Massachusetts Institute of Technology..."
            },
            {
                title: "The Imitation Game",
                iframeSrc: "https://uqload.cx/embed-9ivs1is4u058.html",
                description: "1940 : Alan Turing, mathématicien, cryptologue, est chargé par le gouvernement britannique de percer le secret de la machine Enigma. À la tête d'une équipe improbable, Turing contribue à changer le cours de la Seconde Guerre mondiale."
            },
            {
                title: "L'homme qui défiait l'infini",
                iframeSrc: "https://uqload.cx/embed-6vcwg8ddnmdz.html",
                description: "L'histoire vraie de Srinivasa Ramanujan, un mathématicien autodidacte indien qui, malgré son manque de formation formelle, parvient à impressionner le célèbre mathématicien G.H. Hardy à Cambridge."
            },
            {
                title: "Rain Man",
                iframeSrc: "https://uqload.cx/embed-fkvj5g204k3g.html",
                description: "À la mort de son père, Charlie Babbitt découvre que la majeure partie de l'héritage a été léguée à un bénéficiaire anonyme : Raymond, son frère autiste, un génie des nombres surnommé 'Rain Man'."
            },
            {
                title: "Une merveilleuse histoire du temps",
                iframeSrc: "https://uqload.cx/embed-fpoll7jvf221.html",
                description: "La vie et les combats de Stephen Hawking depuis ses années d'études jusqu'à ses recherches sur le temps, dans le contexte de son histoire personnelle."
            },
            {
                title: "Le monde de Nathan",
                iframeSrc: "https://uqload.cx/embed-02x9dwctp67m.html",
                description: "Nathan, adolescent atteint du syndrome d'Asperger, découvre l'amitié et l'amour grâce à une enseignante qui l'encourage à sortir de sa coquille."
            },
            {
                title: "Le prodige des échecs",
                iframeSrc: "https://uqload.cx/embed-5idrvyjzelvy.html",
                description: "L'histoire de Bobby Fischer, son ascension et sa lutte intérieure, sur fond de rivalité Est-Ouest pendant la guerre froide."
            }
        ];

        const filmsPerPage = 6;
        const filmsGrid = document.getElementById("films-grid");
        const pagination = document.getElementById("pagination");

        function createFilmCard(film) {
            const filmContainer = document.createElement("div");
            filmContainer.className = "film-container";
            filmContainer.setAttribute('role', 'listitem');

            const title = document.createElement("h3");
            title.textContent = film.title;
            filmContainer.appendChild(title);

            const videoWrapper = document.createElement("div");
            videoWrapper.className = "video-wrapper";

            const iframe = document.createElement("iframe");
            iframe.src = film.iframeSrc;
            iframe.setAttribute("frameborder", "0");
            iframe.setAttribute("allowfullscreen", "");
            iframe.setAttribute("loading", "lazy");
            iframe.setAttribute("title", `${film.title} - lecteur vidéo`);
            iframe.setAttribute("referrerpolicy", "no-referrer");
            videoWrapper.appendChild(iframe);

            filmContainer.appendChild(videoWrapper);

            const desc = document.createElement("p");
            desc.className = "description";
            desc.textContent = film.description;
            filmContainer.appendChild(desc);

            const readMoreBtn = document.createElement("button");
            readMoreBtn.className = "read-more-btn";
            readMoreBtn.type = "button";
            readMoreBtn.textContent = "Lire la suite";
            readMoreBtn.addEventListener("click", () => {
                desc.classList.toggle("expanded");
                readMoreBtn.textContent = desc.classList.contains("expanded") ? "Lire moins" : "Lire la suite";
                // scroll to show the full description on small screens when expanding
                if (desc.classList.contains("expanded")) {
                    desc.scrollIntoView({ behavior: "smooth", block: "nearest" });
                }
            });
            filmContainer.appendChild(readMoreBtn);

            return filmContainer;
        }

        function displayFilms(page = 1) {
            filmsGrid.innerHTML = '';
            const start = (page - 1) * filmsPerPage;
            const end = start + filmsPerPage;
            const paginatedFilms = filmsData.slice(start, end);

            paginatedFilms.forEach(film => {
                const card = createFilmCard(film);
                filmsGrid.appendChild(card);
            });

            // ensure accessible focus on top of films section after navigation
            const firstCard = filmsGrid.querySelector('.film-container');
            if (firstCard) {
                firstCard.tabIndex = -1;
                firstCard.focus({ preventScroll: true });
            }
        }

        function setupPagination() {
            pagination.innerHTML = '';
            const pageCount = Math.ceil(filmsData.length / filmsPerPage) || 1;
            for (let i = 1; i <= pageCount; i++) {
                const link = document.createElement("a");
                link.href = "#films";
                link.textContent = i;
                link.setAttribute('role', 'button');
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    displayFilms(i);
                    const currentActive = pagination.querySelector('a.active');
                    if (currentActive) currentActive.classList.remove('active');
                    link.classList.add('active');
                });
                pagination.appendChild(link);
            }
            const first = pagination.querySelector('a');
            if (first) first.classList.add('active');
        }

        /* Hero background rotation */
        const heroSection = document.querySelector('.hero-section');
        const images = [
            '198b2f01e73b905772279616eccc7c65.jpg',
            'c0896a8f2e95a5b66a2a6a47ecc245dd.jpg'
        ];
        let currentImageIndex = 0;

        function changeBackgroundImage() {
            // Si aucune image disponible, on ne fait rien
            if (!images || !images.length) return;
            heroSection.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('${images[currentImageIndex]}')`;
            currentImageIndex = (currentImageIndex + 1) % images.length;
        }

        // Lancer la rotation seulement si on a des images
        if (images && images.length) {
            changeBackgroundImage();
            setInterval(changeBackgroundImage, 5000);
        }

        /* Quotes rotation */
        const quoteText = document.getElementById("quote-text");
        const quotes = [
            "Un film peut changer une journée. Une idée peut changer une vie.",
            "La seule limite à notre réalisation de demain sera nos doutes d'aujourd'hui. – Franklin D. Roosevelt",
            "La vie ne consiste pas à se trouver soi-même, mais à se créer soi-même. – George Bernard Shaw",
            "Le voyage de mille lieues commence par un seul pas. – Lao Tseu",
            "La connaissance parle, mais la sagesse écoute. – Jimi Hendrix"
        ];
        let currentQuoteIndex = 0;

        function changeQuote() {
            if (!quotes || quotes.length === 0) return;
            quoteText.textContent = quotes[currentQuoteIndex];
            currentQuoteIndex = (currentQuoteIndex + 1) % quotes.length;
        }

        changeQuote();
        setInterval(changeQuote, 5000);

        /* Scroll to top button */
        const scrollTopBtn = document.getElementById("scrollTopBtn");

        function scrollFunction() {
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                scrollTopBtn.style.display = "block";
            } else {
                scrollTopBtn.style.display = "none";
            }
        }

        window.addEventListener('scroll', scrollFunction, { passive: true });

        scrollTopBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: "smooth" });
        });

        // Initialiser la page
        displayFilms(1);
        setupPagination();
    </script>
</body>
</html>
